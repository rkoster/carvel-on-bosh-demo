vm_extensions:
- name: docker-socket
  cloud_properties:
    # https://github.com/k3d-io/k3d/issues/113#issuecomment-997426966
    PidMode: host
    mounts:
    - type: bind
      source: /var/run/docker.sock
      target: /var/run/docker.sock
    - type: bind
      source: /mnt/disks/docker-data/dockerd/containers
      target: /mnt/disks/docker-data/dockerd/containers
      BindOptions:
        Propagation: rshared
    - type: bind
      source: /mnt/disks/docker-data/dockerd/overlay2
      target: /mnt/disks/docker-data/dockerd/overlay2
      Consistency: delegated
      BindOptions:
        Propagation: rshared
